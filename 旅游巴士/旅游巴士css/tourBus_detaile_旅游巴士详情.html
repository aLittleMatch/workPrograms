<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
        <meta content="yes" name="apple-mobile-web-app-capable">
        <meta content="yes" name="apple-touch-fullscreen">
        <meta content="telephone=no,email=no" name="format-detection">
        <script src="js/flexible_css.debug.js" type="text/javascript" charset="utf-8"></script>
        <script src="js/flexible.debug.js" type="text/javascript" charset="utf-8"></script>
		<link rel="stylesheet" type="text/css" href="css/default.css"/>
		<link rel="stylesheet" type="text/css" href="css/swiper-3.3.1.min.css"/>
		<link rel="stylesheet" type="text/css" href="css/tickerstyle.css"/>
		<link rel="stylesheet" type="text/css" href="css/index.css"/>
		<script src="js/swiper-3.3.1.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/jquery-1.10.1.min.js" type="text/javascript" charset="utf-8"></script>
		<title>检票</title>
	</head>
	<body>
		<div class="container widthBox tourbusbg">
			<div class="toursbus-toparea flexbox">
				望美旅游巴士L1
				<div class="check-route-box">
					<a href="route_sate_路线实时状态.html" class="check-route flexbox">
						<img class="check-route-pic1" src="img/bus.png"/>
						线路实时状态
						<img class="check-route-pic2" src="img/checkroute1.png"/>
					</a>
				</div>
			</div>
			<!--站点信息-->
			<div class="arrive-station widthBox padd4">
				<div class="scen-station flexbox">
					<div class="scen-station-start">阅江楼站</div>
					<img class="scen_station" src="img/scen_station.png" />
					<div class="scen-station-end">牛首山站</div>
					<div class="needtoknow">购票须知</div>
				</div>
				<div class="arrive-time">
					<div class="arrive-time-sider flexbox">
						<div class="time-sider-station">阅江楼站</div>
						<div class="time-sider-content">06:00-22:00</div>
					</div>
					<div class="arrive-time-sider flexbox">
						<div class="time-sider-station">牛首山站</div>
						<div class="time-sider-content">06:15-23:00</div>
					</div>
					<div class="c"></div>
				</div>
			</div>
			<!--线路简介-->
			<div class="route-wrapper">
				<div class="route-introduction">
					<h1 class="introduction-title">线路简介</h1>
					<p class="introduction-content">望美金陵旅游巴士L1线路途径南京主城区13个A级景点;</p> 
					<p class="introduction-content">购买即可全日无限制乘坐LI旅游巴士。</p>
				</div>
				<div class="route-distribute-wrapper">
					<ul class="route-distribute">
						<li class="linestyle2"><p class="route-location">阅<br/>江<br/>楼</p></li>
						<li><p class="route-location">鸡<br/>鸣<br/>寺</p></li>
						<li><p class="route-location">燕<br/>子<br/>矶</p></li>
						<li><p class="route-location">鸡<br/>鸣<br/>寺</p></li>
						<li><p class="route-location">燕<br/>子<br/>矶</p></li>
						<li><p class="route-location">鸡<br/>鸣<br/>寺</p></li>
						<li><p class="route-location">燕<br/>子<br/>矶</p></li>
						<li><p class="route-location">鸡<br/>鸣<br/>寺</p></li>
						<li><p class="route-location">燕<br/>子<br/>矶</p></li>
						<li><p class="route-location">鸡<br/>鸣<br/>寺</p></li>
						<li><p class="route-location">燕<br/>子<br/>矶</p></li>
						<li><p class="route-location">燕<br/>子<br/>矶</p></li>
						<li><p class="route-location">鸡<br/>鸣<br/>寺</p></li>	
						<div class="c"></div>
					</ul>
				</div>
				<div class="dec-line-box"><img class="dec-line" src="img/contact_line.png"></div>
				<!--风景图-->
				<div class="scenicspot">
					<div class="scenic-spot-pic1-box"></div>
					<div class="shadeBox">【<span class="shade-name">阅江楼</span>】</div>					
				</div>
			</div>
		</div>
		<!--底部购票分享-->
		<div class="scenery-footer scenery-tourbus">
			<div class="scenery-footer-side flexbox scenery-left"><img class="shoppingcart" src="img/shoppingcart.png"/>购票</div>
			<div class="scenery-footer-side flexbox scenery-right"><img class="sharebackground" src="img/sharebackground.png"/> 分享</div>
		</div>
		<!--分享弹窗-->
		<div class="sharePopup"><img class="circleFriends" src="img/circlefriends.png"/></div>
		
		<script type="text/javascript">
		
		var imgIndex = 0;
		$(function(){
				var len=$('.route-distribute').children('li').length;
				var screenWidth=$(window).width();
				var widlen1=len+'rem';
				var widlen2=100/len+'%'; 
				var widlen3=100+'%';
				var widbtn=false;

				if(len<=10){
					$('.route-distribute').css('width',widlen3); //小于10个，屏幕固定
					$('.route-distribute').children('li').css('width',widlen2);
				}else if(10<len<=20){
					if(screenWidth<768){
						$('.route-distribute').css('width',widlen1); //大于10个小于20个，屏幕为ipad以下，屏幕滚动
						widbtn=true;
					}else{
						$('.route-distribute').css('width',widlen3); //大于10个小于20个，屏幕为ipad，屏幕固定
						$('.route-distribute').children('li').css('width',widlen2);
					}
				}else if(len>20){
					$('.route-distribute').css('width',widlen1); //大于20个，不管是否为ipad，屏幕横向滚动
					widbtn=true;
				}

				if(widbtn || $('.route-distribute-wrapper').scrollLeft()==0){
					$('.dec-line').css('display','block');
					var int=setInterval(function(){
						$('.dec-line').fadeOut(1000).fadeIn(1000);
					},1000);
				}else{
					$('.dec-line').remove();
				}

				$('.route-distribute-wrapper').scroll(function(){
					$('.dec-line').remove();
				});

				//图片数组
				var arrPic=['img/scenicspotpic.jpg','img/scenicspotpic.jpg',['img/scenicspotpic.jpg','img/scenicspotpic.jpg']];

				//图片数组
				//var arrPic=[<c:forEach items="${list}" var="portList" varStatus="">"${realPath}${portList.bannerImg }",</c:forEach>];


				//点击景点切换图片;
				$('.route-distribute').children('li').click(function(){
					imgIndex=$(this).index();//点击的是第几个li
					if(!$(this).is(":animated")){
						var getContent=$(this).children('p').html();
						getContent=getContent.replace(/<br\w*\/*>/g,'');

						//去除<br/>
						$('.shade-name').text(getContent);
						$('.circleFriends').animate({left:'250px'});

						$('.route-distribute').children('li').removeClass('linestyle2');
						$(this).addClass('linestyle2');

						//切换图片滚动效果
						var str1='';
						var str2='';
						var imgAppend= $('<div class="scenic-spot-pic2-box"><img class="scenic-spot-pic2" /></div>');
						var imgNub=$(this).index();//点击的是第几个li


						//判断点击景点中是否存在数组图片
						if(jQuery.isArray(arrPic[imgNub])){
							//存在多张图片，循环出图片
							for(var i=0;i<arrPic[imgNub].length;i++){
								 str2+='<div class="swiper-slide"><img class="scenic-spot-pic1" src="'+arrPic[imgNub][i]+'"/></div>';
							}
							str1='<div class="scenic-spot-pic2-box"><div class="swiper-container"><div class="swiper-wrapper">'+str2+'</div></div></div>'
						}else{
							//存在一张图片直接添加
							str2='<div class="swiper-slide"><img class="scenic-spot-pic1" src="'+arrPic[imgNub]+'"/></div>';
							str1='<div class="scenic-spot-pic2-box"><div class="swiper-container"><div class="swiper-wrapper">'+str2+'</div></div></div>'
						}
						//将图片添加到容器中
						$('.scenic-spot-pic1-box').after(str1);
						//发生切换效果
						$('.scenic-spot-pic1-box').animate({left:'-104%'},"slow").remove();
						$('.scenic-spot-pic2-box').animate({left:'4%'},"slow").addClass('scenic-spot-pic1-box').removeClass('scenic-spot-pic2-box');

						//运行轮播
						mySwiperGo();
					};
				});//点击变换状态

				//弹窗
				$('.scenery-right').click(function(){
					$('.sharePopup').fadeIn();
				})

				$('.sharePopup').click(function(){
					$(this).fadeOut();
				});

				$($('.route-distribute li')[0]).click();
			});



			//轮播设置
			function mySwiperGo(){
				var mySwiper = new Swiper ('.swiper-container', {
				    direction: 'horizontal',
				    loop: false,
				    autoplay : 2000,
					autoplayDisableOnInteraction : false,
					onClick: function(swiper){
						alert(imgIndex);
					    alert(mySwiper.activeIndex);
				    }
				});
			}
			//第一个景点
			mySwiperGo();

		</script>
	</body>
</html>
